mutate(mean=mean(R1,R2,R3,R4,R5,R6,R7,R8,R9,R10))
bars_persubj$mean <- rowMeans(bars_persubj[,1:10])
bars_persubj_simp <- bars_persubj %>%
select(mean, subj, type)
tmp <- spread(bars_persubj_simp, type)
tmp <- spread(bars_persubj_simp, type, mean)
tmp
cor(tmp)
cor(tmp[,2:4])
names(tmp)
bars_persubj_final <- merge(tmp, bars_persubj_items, by="subj")
bars_persubj_final
cor(bars_persubj_final[,2:4])
cor(bars_persubj_final[,2:5])
cor(bars_persubj_final[,2:5], use=complete.cases)
cor(bars_persubj_final[,2:5], use="complete.cases")
help(cor)
cor(bars_persubj_final[,2:5], use="complete.obs")
names(pers_twornds)
pers_twornds$mean <- rowMeans(pers_twornds[,3:9])
pers_wide <- spread(pers_twornds, type, mean)
pers_wide
dim(pers_wide)
names(pers_wide)
pers_wide <- spread(pers_twornds[,c("vid", "type","mean")], type, mean)
pers_wide
names(pers_wide)
help("rowMeans")
pers_twornds$mean <- rowMeans(pers_twornds[,3:9], na.rm = FALSE)
pers_wide <- spread(pers_twornds[,c("vid", "type","mean")], type, mean)
head(pers_wide)
pers_wide
bars_wide$subj <- substr(bars_wide$vid, 1, 2)
bars_wide$item <- substr(bars_wide$vid, 12, 13)
pers_wide$subj <- substr(pers_wide$vid, 1, 2)
pers_wide$item <- substr(pers_wide$vid, 12, 13)
names(pers_wide)
pers_long <- spread(pers_wide, subj, AGREE)
pers_long
names(pers_long)
head(pers_wide)
pers_wide_subj <- pers_wide %>%
group_by(subj) %>%
summarise(AGREE.ave=mean(AGREE))
pers_wide_subj
pers_wide_subj <- pers_wide %>%
group_by(subj) %>%
summarise(AGREE.ave=mean(AGREE, na.rm=TRUE))
pers_wide_subj
pers_twornds$mean <- rowMeans(pers_twornds[,3:9], na.rm = FALSE)
pers_wide <- spread(pers_twornds[,c("vid", "type","mean")], type, mean)
pers_wide$subj <- substr(pers_wide$vid, 1, 2)
# pers_wide$item <- substr(pers_wide$vid, 12, 13)
pers_wide_subj <- pers_wide %>%
group_by(subj) %>%
by_species %>% summarise_each(funs(mean(., na.rm = TRUE)))
help("summarise_each")
pers_wide_subj <- pers_wide %>%
group_by(subj) %>%
summarise_each(funs(mean(., na.rm = TRUE)))
pers_wide_subj
pers_wide_subj <- pers_wide %>%
select(-vid) %>%
group_by(subj) %>%
summarise_each(funs(mean(., na.rm = TRUE)))
per_wide
pers_wide
pers_wide_subj
wide_subj <- merge(pers_wide_subj, bars_persubj_final, by="subj")
names(wide_subj)
cor(wide_subj[,2:11], use="complete.obs")
help(lm)
fit <- lm(OverallHair~AGREE+CONSC+EMSTB+EXTRAV+OPEN, data=wide_subj)
fit <- lm(OverallHir~AGREE+CONSC+EMSTB+EXTRAV+OPEN, data=wide_subj)
summary(fit)
fit <- lm(OverallHir~AGREE+CONSC+EMSTB+EXTRAV+OPEN,Holistic, data=wide_subj)
summary(fit)
fit <- lm(OverallHir~AGREE+CONSC+EMSTB+EXTRAV+OPEN+Holistic, data=wide_subj)
summary(fit)
wide_subj <- merge(pers_wide_subj, bars_persubj_final, by="subj")
fit.subj <- lm(OverallHir~AGREE+CONSC+EMSTB+EXTRAV+OPEN+Holistic, data=wide_subj)
summary(fit.subj)
lm.beta(fit.subj)
install.packages("QuantPsyc")
require(QuantPsyc)
lm.beta(fit.subj)
summary(wide_subj)
install.packages("spam")
install.packages(c("MASS", "mgcv", "xtable"), lib="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
wide_subj <- merge(pers_wide_subj, bars_persubj_final, by="subj")
fit.subj <- lm(OverallHir~AGREE+CONSC+EMSTB+EXTRAV+OPEN+Holistic, data=wide_subj)
fit.subj
summary(fit.subj)
names(wide_subj)
cor(wide_subj[,2:11])
cor(wide_subj[,2:10])
View(bars_persubj_items)
View(bars_persubj_items)
View(bars_persubj_simp)
View(bars_persubj_simp)
View(bars_indv)
names(pers_twornds)
head(pers_twornds)
names(df.rnd1)
head(df.rnd1)
summary(df.rnd1$type)
names(selt)
names(pers_twornds)
names(pers_all)
names(df.rnd1)
dim(df.rnd1)
dim(pers_all)
names(selt)
selt.ave <- selt %>%
mutate(fridendly=(FRIENDLY.1+FRIENDLY.2)/2) %>%
select(videoID, fridendly)
library(magrittr)
selt.ave <- selt %>%
mutate(fridendly=(FRIENDLY.1+FRIENDLY.2)/2) %>%
select(videoID, fridendly)
library(dplyr)
selt.ave <- selt %>%
mutate(fridendly=(FRIENDLY.1+FRIENDLY.2)/2) %>%
select(videoID, fridendly)
head(selt.ave)
selt.ave <- selt %>%
mutate(frd=(FRIENDLY.1+FRIENDLY.2)/2) %>%
mutate(nvs=(NERVOUS.1+NERVOUS.2)/2) %>%
mutate(awk=(AWKWARD.1+AWKWARD.2)/2) %>%
mutate(conf=(CONFIDIENT.1+CONFIDIENT.2)/2) %>%
mutate(eng=(ENGAGED.1+ENGAGED.2)/2) %>%
mutate(exc=(EXCITED.1+EXCITED.2)/2) %>%
mutate(clm=(CALM.1+CALM.2)/2) %>%
mutate(auth=(AUTHENTIC.1+AUTHENTIC.2)/2) %>%
mutate(nvb=(NVB.1+NVB.2)/2) %>%
mutate(acct=(ACCENT.1+ACCENT.2)/2) %>%
mutate(mono=(MON.1+MON.2)/2) %>%
mutate(und=(UNDERSD.1+UNDERSD.2)/2) %>%
mutate(prof=(PROF.1+PROF.2)/2) %>%
mutate(soph=(SOPH.1+SOPH.2)/2) %>%
mutate(coh=(COHERENT.1+COHERENT.2)/2) %>%
select(videoID, frd, nvs, awk, conf, eng, exc, clm, auth, nvb, acct, mono,
und, prof, soph, coh, subj, item)
selt.ave <- selt %>%
mutate(frd=(FRIENDLY.1+FRIENDLY.2)/2) %>%
mutate(nvs=(NERVOUS.1+NERVOUS.2)/2) %>%
mutate(awk=(AWKWARD.1+AWKWARD.2)/2) %>%
mutate(conf=(CONFIDENT.1+CONFIDENT.2)/2) %>%
mutate(eng=(ENGAGED.1+ENGAGED.2)/2) %>%
mutate(exc=(EXCITED.1+EXCITED.2)/2) %>%
mutate(clm=(CALM.1+CALM.2)/2) %>%
mutate(auth=(AUTHENTIC.1+AUTHENTIC.2)/2) %>%
mutate(nvb=(NVB.1+NVB.2)/2) %>%
mutate(acct=(ACCENT.1+ACCENT.2)/2) %>%
mutate(mono=(MON.1+MON.2)/2) %>%
mutate(und=(UNDERSD.1+UNDERSD.2)/2) %>%
mutate(prof=(PROF.1+PROF.2)/2) %>%
mutate(soph=(SOPH.1+SOPH.2)/2) %>%
mutate(coh=(COHERENT.1+COHERENT.2)/2) %>%
select(videoID, frd, nvs, awk, conf, eng, exc, clm, auth, nvb, acct, mono,
und, prof, soph, coh, subj, item)
selt.ave <- selt %>%
mutate(frd=(FRIENDLY.1+FRIENDLY.2)/2) %>%
mutate(nvs=(NERVOUS.1+NERVOUS.2)/2) %>%
mutate(awk=(AWKWARD.1+AWKWARD.2)/2) %>%
mutate(conf=(CONFIDENT.1+CONFIDENT.2)/2) %>%
mutate(eng=(ENGAGED.1+ENGAGED.2)/2) %>%
mutate(exc=(EXCITED.1+EXCITED.2)/2) %>%
mutate(clm=(CALM.1+CALM.2)/2) %>%
mutate(auth=(AUTHENTIC.1+AUTHENTIC.2)/2) %>%
mutate(nvb=(NVB.1+NVB.2)/2) %>%
mutate(acct=(ACCENT.1+ACCENT.2)/2) %>%
mutate(mono=(MONO.1+MONO.2)/2) %>%
mutate(und=(UNDERSD.1+UNDERSD.2)/2) %>%
mutate(prof=(PROF.1+PROF.2)/2) %>%
mutate(soph=(SOPH.1+SOPH.2)/2) %>%
mutate(coh=(COHERENT.1+COHERENT.2)/2) %>%
select(videoID, frd, nvs, awk, conf, eng, exc, clm, auth, nvb, acct, mono,
und, prof, soph, coh, subj, item)
head(selt.ave)
selt.ave <- selt %>%
mutate(frd=(FRIENDLY.1+FRIENDLY.2)/2) %>%
mutate(nvs=(NERVOUS.1+NERVOUS.2)/2) %>%
mutate(awk=(AWKWARD.1+AWKWARD.2)/2) %>%
mutate(conf=(CONFIDENT.1+CONFIDENT.2)/2) %>%
mutate(eng=(ENGAGED.1+ENGAGED.2)/2) %>%
mutate(exc=(EXCITED.1+EXCITED.2)/2) %>%
mutate(clm=(CALM.1+CALM.2)/2) %>%
mutate(auth=(AUTHENTIC.1+AUTHENTIC.2)/2) %>%
mutate(nvb=(NVB.1+NVB.2)/2) %>%
mutate(acct=(ACCENT.1+ACCENT.2)/2) %>%
mutate(mono=(MONO.1+MONO.2)/2) %>%
mutate(und=(UNDERSD.1+UNDERSD.2)/2) %>%
mutate(prof=(PROF.1+PROF.2)/2) %>%
mutate(soph=(SOPH.1+SOPH.2)/2) %>%
mutate(coh=(COHERENT.1+COHERENT.2)/2) %>%
mutate(hol=(HOLISTIC.1+HOLISTIC.2)/2) %>%
select(videoID, frd, nvs, awk, conf, eng, exc, clm, auth, nvb, acct, mono,
und, prof, soph, coh, hol, subj, item)
selt.ave <- selt %>%
mutate(frd=(FRIENDLY.1+FRIENDLY.2)/2) %>%
mutate(nvs=(NERVOUS.1+NERVOUS.2)/2) %>%
mutate(awk=(AWKWARD.1+AWKWARD.2)/2) %>%
mutate(conf=(CONFIDENT.1+CONFIDENT.2)/2) %>%
mutate(eng=(ENGAGED.1+ENGAGED.2)/2) %>%
mutate(exc=(EXCITED.1+EXCITED.2)/2) %>%
mutate(clm=(CALM.1+CALM.2)/2) %>%
mutate(auth=(AUTHENTIC.1+AUTHENTIC.2)/2) %>%
mutate(nvb=(NVB.1+NVB.2)/2) %>%
mutate(acct=(ACCENT.1+ACCENT.2)/2) %>%
mutate(mono=(MONO.1+MONO.2)/2) %>%
mutate(und=(UNDERSD.1+UNDERSD.2)/2) %>%
mutate(prof=(PROF.1+PROF.2)/2) %>%
mutate(soph=(SOPH.1+SOPH.2)/2) %>%
mutate(coh=(COHERENT.1+COHERENT.2)/2) %>%
mutate(hol=(Holistic.1+Holistic.2)/2) %>%
select(videoID, frd, nvs, awk, conf, eng, exc, clm, auth, nvb, acct, mono,
und, prof, soph, coh, hol, subj, item)
dim(selt.ave)
dim(bars_indv)
names(bars_indv)
wide_item <- merge(selt.ave, bars_indv[,c("videoID", "mean", "gpid", "gp")], by="videoID")
names(wide_item)
gp01 <- wide_item %>%
filter(gp=="01")
gp01
head(wide_item$gp)
gp01 <- wide_item %>%
filter(gp=="G1")
gp01
fit.gp01 <- lm(mean~frd+nvs+awk+conf+eng+exc+clm+auth+nvb+acct+mono+und+prof+soph+coh+hol,
filter(wide_item, gp=="G1"))
summary(fit.gp01)
form <- mean~frd+nvs+awk+conf+eng+exc+clm+auth+nvb+acct+mono+und+prof+soph+coh+hol
fig.gp01 <- lm(form, filter(wide_item, gp=="G2"))
summary(fit.gp01)
fit.gp02<- lm(form, filter(wide_item, gp=="G2"))
summary(fit.gp02)
fit.gp01<- lm(form, filter(wide_item, gp=="G1"))
fit.gp02<- lm(form, filter(wide_item, gp=="G2"))
fit.gp03<- lm(form, filter(wide_item, gp=="G3"))
fit.gp04<- lm(form, filter(wide_item, gp=="G4"))
summary(fit.gp03)
summary(fit.gp01)
summary(fit.gp02)
summary(fit.gp03)
summary(fit.gp04)
names(wide_item)
cor(wide_item[,2:17])
cor(wide_item[,2:17], use="complete.obs")
cor(wide_item[,2:17], wide_item$mean, use="complete.obs")
fit.item <- lm(form, wide_item)
summary(fit.item)
lm.beta(fit.item)
library(QuantPsyc)
lm.beta(fit.item)
irr_bars1
irr_bars2
irr_pertype2
irr_pertype
names(wide_subj)
cor(wide_subj[,2:7], wide_subj$OverallHir)
summary(fit.subj)
names(bars_indv)
names(bars_persubj_final)
tmp <- spread(select(bars_persubj, mean, subj, type), type, mean)
library(tidyr)
tmp <- spread(select(bars_persubj, mean, subj, type), type, mean)
library(dplyr)
tmp <- spread(select(bars_persubj, mean, subj, type), type, mean)
head(tmp)
bars_persubj_final <- merge(tmp, bars_persubj_items, by="subj")
head(bars_persubj_final)
bars_persubj_items <- bars_indv %>%
group_by(subj) %>%
summarise(itemsum=sum(mean)/12.0)
bars_persubj$mean <- rowMeans(bars_persubj[,1:10])
# long to wide
library(tidyr)
tmp <- spread(select(bars_persubj, mean, subj, type), type, mean)
bars_persubj_final <- merge(tmp, bars_persubj_items, by="subj")
head(bars_persubj_final)
cor(bars_persubj_final[,2:4])
cor(bars_persubj_final[,2:5])
cor(bars_persubj_final[,2:5], use="complete.obs")
pers_twornds$mean <- rowMeans(pers_twornds[,3:9], na.rm = FALSE)
pers_wide <- spread(pers_twornds[,c("vid", "type","mean")], type, mean)
head(pers_wide)
head(wide_subj)
pers_twornds$mean <- rowMeans(pers_twornds[,3:9], na.rm = FALSE)
pers_wide <- spread(pers_twornds[,c("vid", "type","mean")], type, mean)
pers_wide$subj <- substr(pers_wide$vid, 1, 2)
# pers_wide$item <- substr(pers_wide$vid, 12, 13)
pers_wide_subj <- pers_wide %>%
select(-vid) %>%
group_by(subj) %>%
summarise_each(funs(mean(., na.rm = TRUE)))
wide_subj <- merge(pers_wide_subj, bars_persubj_final, by="subj")
head(wide_subj)
fit.subj <- lm(OverallHir~AGREE+CONSC+EMSTB+EXTRAV+OPEN+Holistic, data=wide_subj)
summary(fit.subj)
source('~/Documents/github/interview_hs/hs_analyze.R', echo=TRUE)
summary(fit.gp01)
head(wide_item)
help(save)
dim(pers_all)
dim(pers_twornds)
head(pers_all)
source('~/Documents/github/interview_hs/pers_sc.R', echo=TRUE)
source('~/Documents/github/interview_hs/bars_sc.R', echo=TRUE)
names(tmp)
names(bars_persubj_items)
names(bars_persubj)
head(tmp)
head(bars_persubj_items)
names(bars_indv)
bars_persubj_items <- bars_indv %>%
group_by(subj) %>%
summarise(itemsum=sum(mean)/12.0)
head(bars_persubj_items)
bars_persubj_items <- bars_indv %>%
group_by(subj) %>%
summarise(itemsum=sum(mean))
head(bars_persubj_items)
names(bars_indv)
bars_persubj_items <- bars_indv %>%
group_by(subj) %>%
summarise(itemsum=mean(mean))
head(bars_persubj_items)
head(bars_indv)
bars_persubj_items <- bars_indv %>%
group_by(subj) %>%
summarise(mean(mean))
head(bars_persubj_items)
library(magrittr)
library(tidyr)
library(dplyr)
bars_persubj_items <- bars_indv %>%
group_by(subj) %>%
summarise(mean(mean))
head(bars_persubj_items)
source('~/Documents/github/interview_hs/bars_sc.R', echo=TRUE)
source('~/Documents/github/interview_hs/bars_sc.R', echo=TRUE)
head(bars_persubj_final)
head(bars_indv)
tmp <- bars_indv %>%
group_by(subj) %>%
summarise(itemmean=mean(mean))
head(tmp)
head(bars_persubj)
source('~/Documents/github/interview_hs/bars_sc.R', echo=TRUE)
source('~/Documents/github/interview_hs/pers_sc.R', echo=TRUE)
source('~/Documents/github/interview_hs/hs_analyze.R', echo=TRUE)
help(xtable)
??xtable
library(xtable)
help(xtable)
head(slet.ave)
head(selt.ave)
names(df.rnd1)
names(selt)
df.rnd1.other <- rbind_list(onetrait(selt, "FRIENDLY"), onetrait(selt, "NERVOUS"),
onetrait(selt, "AWKWARD"), onetrait(selt, "CONFIDENT"),
onetrait(selt, "ENGAGED"), onetrait(selt, "EXCITED"),
onetrait(selt, "CALM"), onetrait(selt, "AUTHENTIC"),
onetrait(selt, "NVB"), onetrait(selt, "ACCENT"),
onetrait(selt, "MONO"), onetrait(selt, "UNDERSD"),
onetrait(selt, "PROF"), onetrait(selt, "SOPH"),
onetrait(selt, "COHERENT"))
dim(df.rnd1.other)
names(df.rnd1.other)
save(pers_twornds, df.rnd1.other, bars_indv, wide_subj, wide_item,file="vi2014.RData")
names(bars_indv)
View(wide_item)
View(wide_item)
head(wide_subj)
cor(wide_subj[,2:7], wide_subj$OverallHir)
head(bars_persubj)
save(pers_twornds, df.rnd1.other, bars_indv, bars_persubj, wide_subj, wide_item,file="vi2014.RData")
?icc
library(irr)
?icc
head(wide_item)
install.packages("Hmisc")
library(Hmisc)
rcorr(as.matrix(wide_item[,2:17]), type="pearson")
rcorr(as.matrix(wide_item[,2:17], wide_item$mean), type="pearson")
rcorr(as.matrix(wide_item[c("frnd", "mean")], type="pearson"))
names(wide_item)
rcorr(as.matrix(wide_item[c("frd", "mean")], type="pearson"))
help(cor.test)
cor.test(wide_item$frd, wide_item$mean)
dim(wide_item)
?kripp.alpha
install.packages("drat", repos="https://cran.rstudio.com")
drat:::addRepo("dmlc")
install.packages("mxnet")
drat:::addRepo("dmlc")
install.packages("mxnet")
install.packages("mxnet")
install.packages("drat", repos="https://cran.rstudio.com")
drat:::addRepo("dmlc")
install.packages("mxnet")
clear
clean
clean
install.packages("drat", repos="https://cran.rstudio.com")
install.packages("drat", repos = "https://cran.rstudio.com")
install.packages("drat", repos = "https://cran.rstudio.com")
install.packages("drat", repos = "https://cran.rstudio.com")
drat:::addRepo("dmlc")
install.packages("mxnet")
install.packages("drat", repos = "https://cran.rstudio.com")
drat:::addRepo("dmlc")
install.packages("mxnet")
install.packages("mxnet")
sessionInfo()
install.packages("drat", repos="https://cran.rstudio.com")
drat:::addRepo("dmlc")
install.packages("mxnet")
install.packages('mxnet')
install.packages(c("class", "foreign", "knitr", "MASS", "Matrix", "mgcv", "nlme", "nnet", "rmarkdown", "spatial"))
install.packages("drat", repos="https://cran.rstudio.com")
drat:::addRepo("dmlc")
install.packages("mxnet")
library(mxnet)
library(mxnet)
help("mxnet")
library(mxnet)
remove.packages('mxnet')
library(mxnet)
library(mxnet)
require(mxnet)
require(mxnet)
require(mxnet)
require(mxnet)
require(mxnet)
require(mxnet)
require(mxnet)
Sys.getenv("LD_LIBRARY_PATH")
help Sys.setenv()
??Sys.setenv()
Sys.setenv("LD_LIBRARY_PATH" = "/usr/local/cuda/lib")
require(mxnet)
Sys.getenv("LD_LIBRARY_PATH")
require(mxnet)
ls
ls()
names(selt)
table(selt$videoID)
ls
ls()
install.packages(c("git2r", "rstudioapi"))
install.packages("irr")
install.packages("tidyr")
install.packages("xtable")
setwd("~/Documents/github/dl_response_rater/data")
test<-read.csv("test.csv")
dim(test)
head(test$txt)
nchar(test$txt)
wd_cnt <- lapply(test$txt, nchar)
wd_cnt <- lapply(test$txt, 1, FUN = nchar)
wd_cnt <- lapply(test$txt, 2, FUN = nchar)
nchar(test$txt[1])
test$txt[1]
test<-read.csv("test.csv", stringsAsFactors = F)
test$txt[1]
nchar(test$txt)
summary(nchar(test$txt))
summary(test$score)
table(test$score)
train<-read.csv("train.csv", stringsAsFactors = F)
table(train$score)
dim(test$score)
prop.table(test$score)
prop.table(test$score,1)
?prop.table
prop.table(test$score,2)
summary(test$score)
prop.table(table(test$score))
ls()
names(selt)
head(selt$videoID)
names(bars)
ls()
names(bars_indv)
head(bars_indv$videoID)
install.packages("Metrics")
library("Metrics")
auc(c(1,1,1,0,0,0), c(0.9,0.9,0.8,0.7,0.6))
se(1,4)
install.packages(c("BH", "git2r", "mgcv", "rmarkdown", "visNetwork"))
ls()
setwd("~/Documents/github/asap_sas")
train <- read.csv('Data/train.tsv', sep="\t", stringsAsFactors = FALSE)
names(train)
dim(train)
names(pers_twornds)
head(pers_twornds)
write.csv(pers_twornds, file = 'hs_final/interview_2014_pers.csv', row.names = F)
foo<-pers_twornds
subset(foo, foo$type != 'Holistic')
write.csv(subset(pers_twornds, pers_twornds$type != 'Holistic',
file = 'hs_final/interview_2014_pers.csv', row.names = F)
)
write.csv(subset(pers_twornds, pers_twornds$type != 'Holistic'),
file = 'hs_final/interview_2014_pers.csv', row.names = F)
names(bars_indv)
head(bars_indv)
dim(bars_indv)
write.csv(bars_indv, file = 'hs_final/interview_2014_bars.csv', row.names = F)
